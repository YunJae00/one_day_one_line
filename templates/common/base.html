<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}하루 한 줄{% endblock %}</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2FPEX0TD7V"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-2FPEX0TD7V');
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    {% load static %}
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.ico' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    {% block extra_head %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body class="d-flex flex-column min-vh-100">
<!-- 상단 고정 헤더 -->
<header class="py-3 border-bottom">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-6 d-flex align-items-center">
                <a href="{% url 'home' %}"
                   style="text-decoration: none !important; border: none !important; padding: 0 !important;">
                    <span class="fw-bold brand-logo-text">
                        <i class="fas fa-pencil-alt me-2"></i>하루 한 줄
                    </span>
                </a>
            </div>
            <div class="col-6 text-end">
                <a href="{% url 'home' %}" class="btn btn-primary btn-sm">
                    <i class="fas fa-paper-plane me-1"></i> 구독하기
                </a>
            </div>
        </div>
    </div>
</header>

<div class="message-box page-wrapper flex-grow-1">
    <!-- 메시지는 컨테이너 내부에 표시 -->
    {% if messages %}
        <div class="container">
        <div class="messages mt-3">
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <div class="alert alert-success"
                     style="background-color: #d4edda !important; border: 1px solid #c3e6cb !important; color: #155724 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'error' %}
                <div class="alert alert-danger"
                     style="background-color: #f8d7da !important; border: 1px solid #f5c6cb !important; color: #721c24 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'warning' %}
                <div class="alert alert-warning"
                     style="background-color: #fff3cd !important; border: 1px solid #ffeeba !important; color: #856404 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'info' %}
                <div class="alert alert-info"
                     style="background-color: #d1ecf1 !important; border: 1px solid #bee5eb !important; color: #0c5460 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% else %}
                <div class="alert"
                     style="background-color: #f8f9fa !important; border: 1px solid #ddd !important; color: #333 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% endif %}
        {{ message }}
        <!-- 닫기 버튼 -->
        <button type="button" class="btn-close" aria-label="닫기"
                style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); background: none; border: none; font-size: 1.5rem; line-height: 1; color: inherit; opacity: 0.5; transition: opacity 0.3s ease;">
            &times;
        </button>
        </div>
        {% endfor %}
    </div>
    </div>
    {% endif %}

    <!-- 컨텐츠는 각 템플릿에서 관리 -->
    {% block content %}{% endblock %}
    </div>

    <!-- 푸터 섹션 -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- 브랜드 섹션 -->
                <div class="col-md-4 col-12">
                    <div class="footer-brand">하루 한 줄</div>
                    <p class="mb-2">매일 아침, 받고 간결한 한 줄 지식을 전합니다.</p>
                    <div class="footer-copyright">© 2025 하루 한 줄. All rights reserved.</div>
                </div>

                <!-- 바로가기 섹션 -->
                <div class="col-md-4 col-12">
                    <div class="footer-section-title">바로가기</div>
                    <div class="footer-links">
                        <a href="https://walla.my/v/pd3lg0soG1tGdYZPb61S"><i class="fas fa-comment-dots"></i> 문의사항 및 피드백</a>
                        <a href="https://walla.my/v/nRuvHfmbikkMxE4mWfFD"><i class="fas fa-lightbulb"></i> 콘텐츠 제안하기</a>
                    </div>
                </div>

                <!-- 연락처 섹션 -->
                <div class="col-md-4 col-12">
                    <div class="footer-section-title">연락처</div>
                    <div class="footer-contact">
                        <p><a href="mailto:1day1line1@gmail.com">1day1line1@gmail.com</a></p>
                    </div>
                    <div class="footer-social">
                        <a href="https://www.instagram.com/1day_1line/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://github.com/YunJae00/one_day_one_line" aria-label="GitHub"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>