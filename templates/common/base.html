<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}하루 한 줄{% endblock %}</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2FPEX0TD7V"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-2FPEX0TD7V');
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    {% load static %}
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.ico' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    {% block extra_head %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body class="d-flex flex-column min-vh-100">
<!-- 상단 고정 헤더 -->
<header class="py-3 border-bottom">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-6 d-flex align-items-center">
                <a href="{% url 'home' %}"
                   style="text-decoration: none !important; border: none !important; padding: 0 !important;">
                    <span class="fw-bold" style="color: #4288EE; font-size: 1.5rem;">하루 한 줄</span>
                </a>
            </div>
            <div class="col-6 text-end">
                <a href="{% url 'home' %}" class="btn btn-primary btn-sm">구독하기</a>
            </div>
        </div>
    </div>
</header>

<div class="message-box page-wrapper flex-grow-1">
    <!-- 메시지는 컨테이너 내부에 표시 -->
    {% if messages %}
        <div class="container">
        <div class="messages mt-3">
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <div class="alert alert-success"
                     style="background-color: #d4edda !important; border: 1px solid #c3e6cb !important; color: #155724 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'error' %}
                <div class="alert alert-danger"
                     style="background-color: #f8d7da !important; border: 1px solid #f5c6cb !important; color: #721c24 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'warning' %}
                <div class="alert alert-warning"
                     style="background-color: #fff3cd !important; border: 1px solid #ffeeba !important; color: #856404 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% elif message.tags == 'info' %}
                <div class="alert alert-info"
                     style="background-color: #d1ecf1 !important; border: 1px solid #bee5eb !important; color: #0c5460 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% else %}
                <div class="alert"
                     style="background-color: #f8f9fa !important; border: 1px solid #ddd !important; color: #333 !important; position: relative; border-radius: 10px; padding: 15px 40px 15px 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; margin-bottom: 10px; opacity: 1 !important;">
            {% endif %}
        {{ message }}
        <!-- 닫기 버튼 -->
        <button type="button" class="btn-close" aria-label="닫기"
                style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); background: none; border: none; font-size: 1.5rem; line-height: 1; color: inherit; opacity: 0.5; transition: opacity 0.3s ease;">
            &times;
        </button>
        </div>
        {% endfor %}
    </div>
    </div>
    {% endif %}

    <!-- 컨텐츠는 각 템플릿에서 관리 -->
    {% block content %}{% endblock %}
    </div>

    <footer class="py-4 border-top">
        <div class="container">
            <div class="row gy-4">
                <!-- 로고 및 회사 정보 -->
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'home' %}" class="text-decoration-none mb-3 d-inline-block">
                        <span class="fw-bold" style="color: #4288EE; font-size: 1.5rem;">하루 한 줄</span>
                    </a>
                    <p class="text-muted mt-2">이메일로 받아보는 유용한 지식</p>
                    <p class="footer-copyright mt-3">© 2025 하루 한 줄. All rights reserved.</p>
                </div>

                <!-- 링크 섹션 -->
                <div class="col-lg-4 col-md-6">
                    <h5 class="footer-heading">바로가기</h5>
                    <ul class="list-unstyled footer-nav">
                        <li class="mb-2"><a href="https://walla.my/v/pd3lg0soG1tGdYZPb61S" class="footer-nav-link"
                                            target="_blank">문의사항 및 피드백</a></li>
                        <li class="mb-2"><a href="https://walla.my/v/nRuvHfmbikkMxE4mWfFD" class="footer-nav-link"
                                            target="_blank">콘텐츠 제안하기</a></li>
                    </ul>
                </div>

                <!-- 연락처 섹션 -->
                <div class="col-lg-4 col-md-12">
                    <h5 class="footer-heading">연락처</h5>
                    <div class="d-flex align-items-center mb-3">
                        <span id="email-text" style="user-select: all;">1day1line1@gmail.com</span>
                    </div>

                    <!-- 소셜 미디어 아이콘 -->
                    <div class="footer-social mt-3">
                        <a href="https://www.instagram.com/1day_1line/" class="footer-social-icon me-3" target="_blank"
                           title="Instagram">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                        </a>
                        <a href="https://github.com/YunJae00/one_day_one_line" class="footer-social-icon"
                           target="_blank" title="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round">
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>